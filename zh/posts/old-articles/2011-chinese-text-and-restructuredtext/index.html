<!doctype html><html lang=zh>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=content-language content="zh">
<meta name=author content="Weiwei">
<meta name=description content="TL;DR: 反斜杠可以解决一切中文多余空格的问题。
最近的几个翻译项目的工作对象都是 reStructuredText (RST) 。RST 是个好东东，不过编辑中文是在有些不便，大部分问题都跟多出来的空格有关。空格在 Arial 字体下可谓相当不明显，不过用了这么长时间的 Python，整个人都变得空格过敏了。以下就是俺碰到的问题。
首先是格式修饰符，比如加粗，加斜。这种时候，RST 的语法规定修饰符的左右必须有空格，于是就会导致被修饰的字符前后多出两个空格来。拿例子讲吧：猪八戒*真的*很懒这句中的斜体是不会正确显示出来的，因为它前后没有空格（或者半角的括号或引号），要让它正常工作，你需要写成这样：猪八戒\*真的\* 很懒（注意空格）。
然而写成这样，输出就不令人满意了，如果你转成 HTML，它的输出会是：“猪八戒 真的 很懒”，斜体字前后会空出两个空格来，这是完全不符合汉语习惯的。
另外一种情况是创建链接。RST 的链接创建相当简便，比如请查看维基百科 天蓬元帅_ 条目这句，看到了吧，天蓬元帅_前后也需要有空格。HTML的输出样式则变成了 请查看维基百科 天蓬元帅 条目，一样的，头尾多了空格。
这两种情况其实是一个问题，我在 StackOverflow 上面问了，没找到答案，不过后来被自己侥幸找到了，那就是用反斜杠\\。例如：
 猪八戒\\ \*真的\*\\很懒 请查看维基百科\\ 天蓬元帅\_\\条目  很笨，不过总算管用，不过还是很笨。
另外一个问题，是换行的地方会被添加空格。2005年，洪强宁同学在邮件列表里问过这个问题，结果 docutils 的维护者 David Goodger 认为不是问题，Felix Wiemann 倒是提出了 workaround ，就是在每个行尾都放一个反斜杠。Felix 也提出了长期对策的建议，但后来似乎没人继续讨论下去了，于是就一直没有解决。
其他例如标点符号要在半角全角之间切来切去就不算啥问题了……">
<meta name=keywords content="博客,开发,翻译">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="reStructuredText 和中文写作">
<meta name=twitter:description content="TL;DR: 反斜杠可以解决一切中文多余空格的问题。
最近的几个翻译项目的工作对象都是 reStructuredText (RST) 。RST 是个好东东，不过编辑中文是在有些不便，大部分问题都跟多出来的空格有关。空格在 Arial 字体下可谓相当不明显，不过用了这么长时间的 Python，整个人都变得空格过敏了。以下就是俺碰到的问题。
首先是格式修饰符，比如加粗，加斜。这种时候，RST 的语法规定修饰符的左右必须有空格，于是就会导致被修饰的字符前后多出两个空格来。拿例子讲吧：猪八戒*真的*很懒这句中的斜体是不会正确显示出来的，因为它前后没有空格（或者半角的括号或引号），要让它正常工作，你需要写成这样：猪八戒\*真的\* 很懒（注意空格）。
然而写成这样，输出就不令人满意了，如果你转成 HTML，它的输出会是：“猪八戒 真的 很懒”，斜体字前后会空出两个空格来，这是完全不符合汉语习惯的。
另外一种情况是创建链接。RST 的链接创建相当简便，比如请查看维基百科 天蓬元帅_ 条目这句，看到了吧，天蓬元帅_前后也需要有空格。HTML的输出样式则变成了 请查看维基百科 天蓬元帅 条目，一样的，头尾多了空格。
这两种情况其实是一个问题，我在 StackOverflow 上面问了，没找到答案，不过后来被自己侥幸找到了，那就是用反斜杠\\。例如：
 猪八戒\\ \*真的\*\\很懒 请查看维基百科\\ 天蓬元帅\_\\条目  很笨，不过总算管用，不过还是很笨。
另外一个问题，是换行的地方会被添加空格。2005年，洪强宁同学在邮件列表里问过这个问题，结果 docutils 的维护者 David Goodger 认为不是问题，Felix Wiemann 倒是提出了 workaround ，就是在每个行尾都放一个反斜杠。Felix 也提出了长期对策的建议，但后来似乎没人继续讨论下去了，于是就一直没有解决。
其他例如标点符号要在半角全角之间切来切去就不算啥问题了……">
<meta property="og:title" content="reStructuredText 和中文写作">
<meta property="og:description" content="TL;DR: 反斜杠可以解决一切中文多余空格的问题。
最近的几个翻译项目的工作对象都是 reStructuredText (RST) 。RST 是个好东东，不过编辑中文是在有些不便，大部分问题都跟多出来的空格有关。空格在 Arial 字体下可谓相当不明显，不过用了这么长时间的 Python，整个人都变得空格过敏了。以下就是俺碰到的问题。
首先是格式修饰符，比如加粗，加斜。这种时候，RST 的语法规定修饰符的左右必须有空格，于是就会导致被修饰的字符前后多出两个空格来。拿例子讲吧：猪八戒*真的*很懒这句中的斜体是不会正确显示出来的，因为它前后没有空格（或者半角的括号或引号），要让它正常工作，你需要写成这样：猪八戒\*真的\* 很懒（注意空格）。
然而写成这样，输出就不令人满意了，如果你转成 HTML，它的输出会是：“猪八戒 真的 很懒”，斜体字前后会空出两个空格来，这是完全不符合汉语习惯的。
另外一种情况是创建链接。RST 的链接创建相当简便，比如请查看维基百科 天蓬元帅_ 条目这句，看到了吧，天蓬元帅_前后也需要有空格。HTML的输出样式则变成了 请查看维基百科 天蓬元帅 条目，一样的，头尾多了空格。
这两种情况其实是一个问题，我在 StackOverflow 上面问了，没找到答案，不过后来被自己侥幸找到了，那就是用反斜杠\\。例如：
 猪八戒\\ \*真的\*\\很懒 请查看维基百科\\ 天蓬元帅\_\\条目  很笨，不过总算管用，不过还是很笨。
另外一个问题，是换行的地方会被添加空格。2005年，洪强宁同学在邮件列表里问过这个问题，结果 docutils 的维护者 David Goodger 认为不是问题，Felix Wiemann 倒是提出了 workaround ，就是在每个行尾都放一个反斜杠。Felix 也提出了长期对策的建议，但后来似乎没人继续讨论下去了，于是就一直没有解决。
其他例如标点符号要在半角全角之间切来切去就不算啥问题了……">
<meta property="og:type" content="article">
<meta property="og:url" content="https://weiwei.github.io/zh/posts/old-articles/2011-chinese-text-and-restructuredtext/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2011-05-27T00:00:00+00:00">
<meta property="article:modified_time" content="2011-05-27T00:00:00+00:00"><meta property="og:site_name" content="Weiwei的日志">
<title>
reStructuredText 和中文写作 · Weiwei的日志
</title>
<link rel=canonical href=https://weiwei.github.io/zh/posts/old-articles/2011-chinese-text-and-restructuredtext/>
<link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin=anonymous>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous>
<link rel=stylesheet href=/css/coder.min.f01c647a0d25b40da992a37c3376291185eed8a50ced8c26cc2c0bcfe38c97df.css integrity="sha256-8Bxkeg0ltA2pkqN8M3YpEYXu2KUM7YwmzCwLz+OMl98=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=/css/coder-dark.min.126ad3988d46bdae6217a11105b53c9662bca05f39d42d3c0fb366919d334620.css integrity="sha256-EmrTmI1Gva5iF6ERBbU8lmK8oF851C08D7NmkZ0zRiA=" crossorigin=anonymous media=screen>
<link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16>
<link rel=apple-touch-icon href=/images/apple-touch-icon.png>
<link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png>
<script src=https://twemoji.maxcdn.com/v/latest/twemoji.min.js crossorigin=anonymous></script>
<meta name=generator content="Hugo 0.91.2">
</head>
<body class=colorscheme-auto onload=twemoji.parse(document.body)>
<div class=float-container>
<a id=dark-mode-toggle class=colorscheme-toggle>
<i class="fa fa-adjust fa-fw" aria-hidden=true></i>
</a>
</div>
<main class=wrapper>
<nav class=navigation>
<section class=container>
<a class=navigation-title href=/zh>
Weiwei的日志
</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle>
<i class="fa fa-bars fa-fw" aria-hidden=true></i>
</label>
<ul class=navigation-list>
<li class=navigation-item>
<a class=navigation-link href=/zh/about/>关于</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=/zh/posts/>文章</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=/zh/projects/>项目</a>
</li>
<li class="navigation-item menu-separator">
<span>|</span>
</li>
<li class=navigation-item>
<a href=https://weiwei.github.io/>English</a>
</li>
<li class=navigation-item>
<a href=https://weiwei.github.io/es/>Español</a>
</li>
</ul>
</section>
</nav>
<div class=content>
<section class="container post">
<article>
<header>
<div class=post-title>
<h1 class=title>reStructuredText 和中文写作</h1>
</div>
<div class=post-meta>
<div class=date>
<span class=posted-on>
<i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2011-05-27T00:00:00Z>
May 27, 2011
</time>
</span>
<span class=reading-time>
<i class="fa fa-clock-o" aria-hidden=true></i>
One-minute read
</span>
</div>
<div class=authors>
<i class="fa fa-user" aria-hidden=true></i>
<a href=/zh/authors/weiwei/>Weiwei</a></div>
<div class=tags>
<i class="fa fa-tag" aria-hidden=true></i>
<a href=/zh/tags/%E7%BC%96%E7%A8%8B/>编程</a></div>
</div>
</header>
<div>
<p>TL;DR: 反斜杠可以解决一切中文多余空格的问题。</p>
<p>最近的几个翻译项目的工作对象都是 reStructuredText (RST) 。RST
是个好东东，不过编辑中文是在有些不便，大部分问题都跟多出来的空格有关。空格在
Arial 字体下可谓相当不明显，不过用了这么长时间的
Python，整个人都变得空格过敏了。以下就是俺碰到的问题。</p>
<p>首先是格式修饰符，比如加粗，加斜。这种时候，RST
的语法规定修饰符的左右必须有空格，于是就会导致被修饰的字符前后多出两个空格来。拿例子讲吧：<code>猪八戒*真的*很懒</code>这句中的斜体是不会正确显示出来的，因为它前后没有空格（或者半角的括号或引号），要让它正常工作，你需要写成这样：<code>猪八戒\*真的\* 很懒</code>（注意空格）。</p>
<p>然而写成这样，输出就不令人满意了，如果你转成 HTML，它的输出会是：“猪八戒 <em>真的</em> 很懒”，斜体字前后会空出两个空格来，这是完全不符合汉语习惯的。</p>
<p>另外一种情况是创建链接。RST 的链接创建相当简便，比如<code>请查看维基百科 天蓬元帅_ 条目</code>这句，看到了吧，<code>天蓬元帅_</code>前后也需要有空格。HTML的输出样式则变成了 <code>请查看维基百科 天蓬元帅 条目</code>，一样的，头尾多了空格。</p>
<p>这两种情况其实是一个问题，我在 <a href=http://stackoverflow.com/questions/6086756/restructuredtext-hyperlinks-without-leading-and-trailing-spaces>StackOverflow</a>
上面问了，没找到答案，不过后来被自己侥幸找到了，那就是用反斜杠<code>\\</code>。例如：</p>
<ul>
<li><code>猪八戒\\ \*真的\*\\很懒</code></li>
<li><code>请查看维基百科\\ 天蓬元帅\_\\条目</code></li>
</ul>
<p>很笨，不过总算管用，不过还是很笨。</p>
<p>另外一个问题，是换行的地方会被添加空格。2005年，洪强宁同学在邮件列表里问过<a href=http://thread.gmane.org/gmane.text.docutils.user/2294>这个问题</a>，结果 docutils 的维护者 David Goodger 认为不是问题，Felix Wiemann 倒是提出了 workaround ，就是在每个行尾都放一个反斜杠。Felix 也提出了长期对策的建议，但后来似乎没人继续讨论下去了，于是就一直没有解决。</p>
<p>其他例如标点符号要在半角全角之间切来切去就不算啥问题了……</p>
</div>
<footer>
</footer>
</article>
</section>
</div>
<footer class=footer>
<section class=container>
©
2006 -
2023
Weiwei
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.
</section>
</footer>
</main>
<script src=/js/dark-mode.min.aee9c8a464eb7b3534c7110f7c5e169e7039e2fd92710e0626d451d6725af137.js></script>
<script data-goatcounter=https://weiwei.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
</body>
</html>